````


###simular una red corporativa completa utilizando Python. La red debe incluir 

import networkx as nx
import matplotlib.pyplot as plt
from ipaddress import ip_network, ip_address

# Clase para representar la red
class Network:
    # lista de dispositivos en la red
    def __init__(self):
        self.devices = []
        self.connections = []
        self.G = nx.Graph()
# Agregar dispositivo al grafo
    def add_device(self, device):
        self.devices.append(device)
        self.G.add_node(device.name, type=device.device_type)
#lista de conexiones en la red
    def connect(self, device1, device2):
        self.connections.append((device1, device2))
        self.G.add_edge(device1.name, device2.name)
#grafo para representar la red
    def assign_ip_addresses(self, cidr):
        network = ip_network(cidr)
        hosts = network.hosts()
        for device in self.devices:
            if device.device_type in ['PC', 'Server']:
                device.ip_address = next(hosts)
                print(f"Assigned IP {device.ip_address} to {device.name}")
#visualizar la red networkx para crear un grafo y la biblioteca matplotlib, para dibujar tal grafo, con dispositivos 
    def visualize(self):
        pos = nx.spring_layout(self.G)
        labels = nx.get_node_attributes(self.G, 'type')
        nx.draw(self.G, pos, with_labels=True, node_color='skyblue', node_size=2000, font_size=10)
        nx.draw_networkx_edge_labels(self.G, pos)
        plt.show()
# simular el tráfico de red enviando paquetes de datos desde un dispositivo de origen (src) a un dispositivo de destino)usando el camino más corto de dst
#src (origen) y dst(destino)
    def simulate_traffic(self, src,dst):                 
        try:
            path = nx.shortest_path(self.G, source=src.name, target=dst.name)
            print(f"Data packet path from {src.name} to {dst.name}: {' -> '.join(path)}")
        except nx.NetworkXNoPath:
            print(f"No path found between {src.name} and {dst.name}")
# Clase padre Device(cualquier dispositivo conectado puede ser identificado):
class Device:
    def __init__(self, name, device_type):
        self.name = name
        self.device_type = device_type
        self.ip_address = None
#class router 
class Router(Device):
    #crea un diccionario tabla de enrutamiento,donde las claves son las redes y los valores: las métricas de las rutas
    def __init__(self, name):
        super().__init__(name, 'Router')
        self.routing_table = {}
#agrega routers e identifica el sgte salto para encntrar la ruta de destino
    def add_route(self, network, next_hop):
        self.routing_table[network] = next_hop
# obtener ruta de una dirección IP
    def get_route(self, ip):
        for network, next_hop in self.routing_table.items():
            if ip in ip_network(network):
                return next_hop
        return None
#definición de Un switch
class Switch(Device):
    def __init__(self, name):
        super().__init__(name, 'Switch')
# Definamos una PC
class PC(Device):
    def __init__(self, name):
        super().__init__(name, 'PC')
# definamos un server:
class Server(Device):
    def __init__(self, name):
        super().__init__(name, 'Server')

# Create network
network = Network()

# Create devices
router1 = Router("Router1")
router2 = Router("Router2")
switch1 = Switch("Switch1")
switch2 = Switch("Switch2")
pc1 = PC("PC1")
pc2 = PC("PC2")
pc3 = PC("PC3")
pc4 = PC("PC4")

# Add devices to the network
network.add_device(router1)
network.add_device(router2)
network.add_device(switch1)
network.add_device(switch2)
network.add_device(pc1)
network.add_device(pc2)
network.add_device(pc3)
network.add_device(pc4)

# Connect devices
network.connect(router1, switch1)
network.connect(router1, switch2)
network.connect(switch1, pc1)
network.connect(switch1, pc2)
network.connect(switch2, pc3)
network.connect(switch2, pc4)
network.connect(router1, router2)

# Assign IP addresses
network.assign_ip_addresses('192.168.1.0/24')

# Add static routes
router1.add_route('192.168.1.0/24', 'Router1')
router1.add_route('192.168.2.0/24', 'Router2')
router2.add_route('192.168.1.0/24', 'Router1')
router2.add_route('192.168.2.0/24', 'Router2')

# Visualize the network
network.visualize()

# Simulate traffic
network.simulate_traffic(pc1, pc3)

````

![image](https://github.com/Fx2048/COMU_REDES/assets/131219987/59efa1c1-945a-493b-bc16-b3ca73feb836)
